{% extends 'base.html.twig' %}

{% block title %}User
{% endblock %}

{% block body %}
	<div class="user-show p-t-130 p-b-90">
		<div class="row">
			<div class="col-md"></div>
			<div class="col-md-10">
				<h1>User</h1>

				<table class="table">
					<tbody>
						<tr>
							<th>Id</th>
							<td>{{ user.id }}</td>
						</tr>
						<tr>
							<th>Name</th>
							<td>{{ user.name }}</td>
						</tr>
						<tr>
							<th>CreatedAt</th>
							<td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
						</tr>
						<tr>
							<th>Slug</th>
							<td>{{ user.slug }}</td>
						</tr>
						<tr>
							<th>Username</th>
							<td>{{ user.username }}</td>
						</tr>
						<tr>
							<th>Password</th>
							<td>{{ user.password }}</td>
						</tr>
						<tr>
							<th>Roles</th>
							<td>{{ user.roles ? user.roles|join(', ') : '' }}</td>
						</tr>
						<tr>
							<th>Salt</th>
							<td>{{ user.salt }}</td>
						</tr>
						<tr>
							<th>Email</th>
							<td>{{ user.email }}</td>
						</tr>
					</tbody>
				</table>

				{% if is_granted('ROLE_LAMBDA') %}
					<h3>Meals</h3>
					<ul>
						{% for meal in user.lambda.meals %}
							<li>
								<a href="{{path('meal_show', {id:meal.id,slug:meal.slug})}}">{{meal.name}}</a>
							</li>
						{% endfor %}
					</ul>
				{% endif %}

			</div>
			<div class="col-md"></div>
		</div>
	</div>
{% endblock %}
